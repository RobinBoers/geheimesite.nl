@import url("./skin.css");
@import url("./normalize.css");

:root {
    --max-content-width: 1100px;
    --max-text-width: 650px;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    .h-content {
        height: max-content;
    }

    /* Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
    }

    .pixelart {
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
        image-rendering: pixelated;
    }

    .text-warning {
        @apply text-[#9e100b] dark:text-[#ff7a74];
    }

    .shade-blue {
        filter: sepia(15%) hue-rotate(525deg) saturate(341%);
    }

    @media (prefers-color-scheme: dark) {
        .shade-blue {
            filter: invert() sepia(50%) hue-rotate(511deg);
        }
    }
}

@layer base {
    body,
    html {
        @apply w-full;
    }

    body {
        @apply flex flex-col overflow-x-hidden;
    }
}

@layer components {
    .md-mark {
        @apply before:content-[''] before:absolute before:inset-0 before:w-full before:h-full before:bg-md-mark before:bg-no-repeat before:bg-[length:30px] before:bg-[right_7px_bottom_7px] before:brightness-200 before:dark:filter-none;
    }

    /* Text */
    .skip-nav {
        @apply lowercase absolute top-0 transition-transform translate-y-[-120%] focus:translate-y-0 left-[7px] p-4 no-underline bg-foreground text-background outline-none;
    }
    .menu-button {
        @apply h-5 w-5 inline lg:hidden cursor-pointer;
    }

    /* Page layout */
    .page-header {
        @apply px-2 sm:px-10 lg:px-0 flex flex-wrap flex-row justify-between items-center w-full mx-auto;
        max-width: var(--max-content-width);
    }

    .page-content {
        @apply flex-grow w-full mx-auto px-[10px] xl:px-0;
        max-width: var(--max-content-width);
    }

    .page-header nav {
        @apply w-screen lg:w-auto lg:flex justify-around p-2;
    }

    .page-header nav ul {
        /* gap-3 is same as ml-3 at seperator below */
        @apply flex flex-col lg:flex-row gap-3 p-0 items-center lg:h-auto transition-[height] mb-0 relative;
    }

    .page-header nav .more-menu {
        @apply hidden;
    }

    .page-header nav .more-menu.active {
        @apply block bg-background absolute -right-6 top-8 h-max p-4 rounded-md shadow-lg z-50;
    }

    .page-header nav .more-menu.active li {
        @apply md:pb-2;
    }

    .page-header nav .more-menu-heading {
        @apply hidden;
        @apply font-bold text-lg pt-3;
    }

    .page-header nav ul li {
        @apply list-none lowercase;
    }

    .page-header nav ul li a,
    .page-header nav ul li.selected {
        @apply no-underline;
    }

    .page-header nav ul li:not(:first-child) {
        /* ml-3 is same as gap-3 at menu layout above */
        @apply lg:before:content-['~'] before:mr-2.5 before:font-normal before:opacity-50;
    }

    .page-header nav ul .more-menu li {
        @apply before:mr-1;
    }

    .page-header nav ul li.selected {
        @apply font-bold;
    }

    .page-footer {
        @apply p-5 text-center;
    }

    /* Blog */
    .h-feed {
        @apply mt-20;
    }

    .h-feed p,
    .h-feed h1,
    .h-feed h2,
    .h-feed h3 {
        max-width: revert;
    }

    .h-feed .h-entry {
        @apply mb-16;
    }

    .p-name a {
        color: inherit !important;
        background-color: inherit !important;
        text-decoration: none !important;
    }

    /* Single-project page */

    .icon {
        @apply !no-underline hover:bg-transparent dark:hover:text-foreground hover:opacity-[85%] font-semibold font-sans mr-3;
    }
    .icon > svg {
        @apply h-[24px] w-[24px] align-text-top;
    }

    /* Projects page */

    .project-grid,
    .book-grid {
        @apply p-0 m-0 w-full grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 grid-rows-1 md:gap-2 lg:my-10 max-w-[revert];
    }

    .book-grid {
        @apply grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-y-10;
    }

    .project-grid li,
    .book-grid li {
        @apply flex flex-col justify-end list-none;
    }

    .project-grid li h3,
    .book-grid li h3 {
        @apply text-sm mt-0 ml-2 md:ml-0;
    }

    .project-grid li span,
    .book-grid li span {
        @apply text-xs opacity-70;
    }

    .book-grid li h3 {
        @apply text-xs;
    }

    .project-grid li a,
    .book-grid li a {
        @apply no-underline bg-transparent hover:bg-transparent hover:brightness-90;
    }

    .project-grid li a img {
        @apply aspect-video object-cover;
    }

    .project-grid li a img,
    .book-grid li a img {
        @apply w-full my-2 mr-2;
    }

    /* Homepage */

    .homepage-hero {
        @apply xl:grid grid-cols-2 gap-10;
        /* grid-template-columns: 50% 40%; */
    }

    .homepage-hero .h-card p,
    .homepage-hero .h-card h1 {
        @apply max-w-none;
    }

    .title a {
        @apply no-underline bg-transparent hover:bg-transparent text-current hover:text-current hover:no-underline decoration-background;
    }
}
