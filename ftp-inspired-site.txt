---
title: A FTP-inspired site
date: 2023-11-22
language: en
---

Yup, I'm planning to redesign my site again. While I was very happy with the writing workflow, I wasn't pleased with the publishing aspect. Don't get me wrong, I love static sites and those 100/100 scores on Lighthouse feel amazing.

Yet, I don't like it. I want something more modular. And something directory based. I basically want something like FTP. I guess I could turn on directory listings. But I also want to render my content to HTML and Gemtext and generate RSS feeds for each directory. 

I thought about writing an SSG-like system for it, but I realised the thing most appealing about the FTP based workflow is that I could edit the system in place. _I want to completely skip the build step._

So I guess I'm gonna have to build a server for this. That means the site won't be truly static anymore. However, I'm of course gonna cache the rendered Markdown; I'm not a complete idiot. It could also be fun to implement the Gemini protocol myself :D

Anyways, enough babbling from me. Here's the full concept:

---

Website is directory based.
A directory is a collection of links.

A directory is filesystem based, it lists the subdirectories and directory contents.
  Subdirectories are listed above files. Stuff is sorted by last modified.
  Dotfiles will be hidden.

Every directory should also have an autogenerated RSS feed in index.xml.
  The RSS feeds should be hidden from directory listings.

If a directory contains an index.html or index.gmi file, serve that instead of the index.
If a directory contain an README file, render it out and prepend it to the directory listing.

Files can contain frontmatter.
  The date and title defined there should be used when listing in directories and RSS feeds.
  Render them out as .html and .gmi files.
    Assume Markdown.

A directory can also contain arbitrary links, which can be defined in a links.txt file. 
  Every line should start with a link, optionally followed by a space and a link label. 
  The links.txt file should be hidden from directory listings.

---

Btw, this is hugely inspired by the way [Marginalia](https://www.marginalia.nu) and [Len Falken's Writing](https://len.falken.directory) look and work.
